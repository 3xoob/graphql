{"version":3,"file":"auditCard.js","sourceRoot":"","sources":["../../src/app/auditCard.ts"],"names":[],"mappings":"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","sourcesContent":["import { GraphQLService } from \"./dataFetching\"\nimport { formatSize, createDataElement } from \"./helpers\"\nimport { AuditData } from \"../types\";\n\nconst graphQLService = new GraphQLService();\n\n// Function to render the audit card\nexport async function renderAuditCard() {\n    const [auditRatio, Rerror] = await graphQLService.getAuditRatio();\n    if (Rerror !== null) {\n        console.error(Rerror);\n        return;\n    }\n\n    let data: AuditData | null = null;\n    if (auditRatio.auditRatio && auditRatio.totalUp && auditRatio.totalDown) {\n        data = {\n            ratio: auditRatio.auditRatio,\n            done: auditRatio.totalUp,\n            received: auditRatio.totalDown,\n        };\n    }\n\n    const app = document.getElementById(\"TwoElem\");\n    if (!app) {\n        console.error(\"Profile container not found!\");\n        return;\n    }\n\n    const auditCard = document.createElement(\"div\");\n    auditCard.classList.add(\"audit-card\");\n\n    const title = document.createElement(\"h2\");\n    title.textContent = \"Audits Ratio\";\n    auditCard.appendChild(title);\n\n    const barContainerDone = document.createElement(\"div\");\n    barContainerDone.classList.add(\"bar-container\");\n\n    const labelDone = document.createElement(\"span\");\n    labelDone.textContent = \"Done\";\n    labelDone.classList.add(\"progress-label\");\n\n    const progressBarDone = document.createElement(\"div\");\n    progressBarDone.classList.add(\"progress-bar\");\n\n    const barContainerReceived = document.createElement(\"div\");\n    barContainerReceived.classList.add(\"bar-container\");\n\n    const labelReceived = document.createElement(\"span\");\n    labelReceived.textContent = \"Received\";\n    labelReceived.classList.add(\"progress-label\");\n\n    const progressBarReceived = document.createElement(\"div\");\n    progressBarReceived.classList.add(\"progress-bar\");\n\n    if (data !== null) {\n        const progressBarDone = document.createElement(\"progress\");\n        progressBarDone.id = \"done-progress\";\n        progressBarDone.value = data.done;\n        progressBarDone.max = data.done + data.received;\n        barContainerDone.appendChild(progressBarDone);\n\n        const progressBarReceived = document.createElement(\"progress\");\n        progressBarReceived.id = \"received-progress\";\n        progressBarReceived.value = data.received;\n        progressBarReceived.max = data.done + data.received;\n        barContainerReceived.appendChild(progressBarReceived);\n    }\n\n    barContainerDone.appendChild(labelDone);\n    barContainerDone.appendChild(progressBarDone);\n    auditCard.appendChild(barContainerDone);\n\n    barContainerReceived.appendChild(labelReceived);\n    barContainerReceived.appendChild(progressBarReceived);\n    auditCard.appendChild(barContainerReceived);\n\n    const dataValues = document.createElement(\"div\");\n    dataValues.classList.add(\"data-values\");\n    if (data !== null) {\n        dataValues.appendChild(createDataElement(\"Done ⬆\", formatSize(data.done)));\n        dataValues.appendChild(createDataElement(\"Received ⬇\", formatSize(data.received)));\n    }\n\n    auditCard.appendChild(dataValues);\n\n    const ratioDisplay = document.createElement(\"div\");\n    ratioDisplay.classList.add(\"ratio-display\");\n\n    if (data !== null) {\n        const checker = Math.round(data.ratio * 10) / 10;\n        ratioDisplay.textContent = data.ratio.toFixed(1);\n\n        if (checker <= 0.6) {\n            ratioDisplay.style.color = \"#FF0000\";\n        } else if (checker <= 1.4) {\n            ratioDisplay.style.color = \"#f3c41b\";\n        } else {\n            ratioDisplay.style.color = \"#0000FF\";\n        }\n    }\n\n    auditCard.appendChild(ratioDisplay);\n\n    const hint = document.createElement(\"p\");\n    hint.classList.add(\"hint\");\n    if (data !== null) {\n        const checker = Math.round(data.ratio * 10) / 10;\n        if (checker <= 0.6) {\n            hint.textContent = \"Careful buddy!\";\n            hint.style.color = \"#FF0000\";\n        } else if (checker <= 0.9) {\n            hint.textContent = \"Getting there!\";\n            hint.style.color = \"#f3c41b\";\n        } else if (checker <= 1.4) {\n            hint.textContent = \"Good job!\";\n            hint.style.color = \"#f3c41b\";\n        } else {\n            hint.textContent = \"Excellent work!\";\n            hint.style.color = \"#0000FF\";\n        }\n    }\n    auditCard.appendChild(hint);\n\n    app.append(auditCard);\n}\n"]}